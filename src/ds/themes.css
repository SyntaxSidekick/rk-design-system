/**
 * RIAD KILANI DESIGN SYSTEM
 * Theme Tokens - Semantic Color Mappings
 * 
 * Maps raw color tokens to semantic usage.
 * Supports light, dark, and high contrast themes.
 */

/* ========================================
   DEFAULT THEME (LIGHT)
   ======================================== */

:root,
[data-theme="light"] {
  /* Surfaces */
  --surface-page: var(--color-neutral-50);
  --surface-primary: #FFFFFF;
  --surface-secondary: var(--color-neutral-100);
  --surface-tertiary: var(--color-neutral-200);
  --surface-overlay: rgba(0, 0, 0, 0.5);
  --surface-brand: var(--color-brand-500);
  --surface-brand-subtle: var(--color-brand-50);

  /* Borders */
  --border-default: var(--color-neutral-300);
  --border-strong: var(--color-neutral-500);
  --border-subtle: var(--color-neutral-200);
  --border-brand: var(--color-brand-500);
  --border-focus: var(--color-brand-500);

  /* Text */
  --text-primary: var(--color-neutral-950);
  --text-secondary: var(--color-neutral-700);
  --text-tertiary: var(--color-neutral-500);
  --text-placeholder: var(--color-neutral-400);
  --text-disabled: var(--color-neutral-400);
  --text-inverse: #FFFFFF;
  --text-brand: var(--color-brand-700);
  --text-link: var(--color-brand-600);
  --text-link-hover: var(--color-brand-700);

  /* Interactive States */
  --state-hover-opacity: 0.08;
  --state-pressed-opacity: 0.12;
  --state-focus-opacity: 0.12;
  --state-selected-opacity: 0.16;
  --state-disabled-opacity: 0.38;

  /* Focus Ring */
  --focus-ring-color: var(--color-brand-500);
  --focus-ring-width: 2px;
  --focus-ring-offset: 2px;

  /* Semantic Backgrounds */
  --bg-success: var(--color-success-50);
  --bg-warning: var(--color-warning-50);
  --bg-danger: var(--color-danger-50);
  --bg-info: var(--color-info-50);

  /* Semantic Borders */
  --border-success: var(--color-success-300);
  --border-warning: var(--color-warning-300);
  --border-danger: var(--color-danger-300);
  --border-info: var(--color-info-300);

  /* Semantic Text */
  --text-success: var(--color-success-700);
  --text-warning: var(--color-warning-700);
  --text-danger: var(--color-danger-700);
  --text-info: var(--color-info-700);

  /* Semantic Icons */
  --icon-success: var(--color-success-600);
  --icon-warning: var(--color-warning-600);
  --icon-danger: var(--color-danger-600);
  --icon-info: var(--color-info-600);
}

/* ========================================
   DARK THEME
   Activated via [data-theme="dark"]
   ======================================== */

[data-theme="dark"] {
  /* Surfaces */
  --surface-page: var(--color-neutral-950);
  --surface-primary: var(--color-neutral-900);
  --surface-secondary: var(--color-neutral-800);
  --surface-tertiary: var(--color-neutral-700);
  --surface-overlay: rgba(0, 0, 0, 0.7);
  --surface-brand: var(--color-brand-600);
  --surface-brand-subtle: var(--color-brand-950);

  /* Borders */
  --border-default: var(--color-neutral-700);
  --border-strong: var(--color-neutral-500);
  --border-subtle: var(--color-neutral-800);
  --border-brand: var(--color-brand-400);
  --border-focus: var(--color-brand-400);

  /* Text */
  --text-primary: var(--color-neutral-50);
  --text-secondary: var(--color-neutral-300);
  --text-tertiary: var(--color-neutral-500);
  --text-placeholder: var(--color-neutral-600);
  --text-disabled: var(--color-neutral-600);
  --text-inverse: var(--color-neutral-950);
  --text-brand: var(--color-brand-300);
  --text-link: var(--color-brand-400);
  --text-link-hover: var(--color-brand-300);

  /* Focus Ring */
  --focus-ring-color: var(--color-brand-400);

  /* Semantic Backgrounds */
  --bg-success: var(--color-success-950);
  --bg-warning: var(--color-warning-950);
  --bg-danger: var(--color-danger-950);
  --bg-info: var(--color-info-950);

  /* Semantic Borders */
  --border-success: var(--color-success-700);
  --border-warning: var(--color-warning-700);
  --border-danger: var(--color-danger-700);
  --border-info: var(--color-info-700);

  /* Semantic Text */
  --text-success: var(--color-success-300);
  --text-warning: var(--color-warning-300);
  --text-danger: var(--color-danger-300);
  --text-info: var(--color-info-300);

  /* Semantic Icons */
  --icon-success: var(--color-success-400);
  --icon-warning: var(--color-warning-400);
  --icon-danger: var(--color-danger-400);
  --icon-info: var(--color-info-400);

  color-scheme: dark;
}

/* Prefer color scheme support */
@media (prefers-color-scheme: dark) {
  :root:not([data-theme]) {
    /* Surfaces */
    --surface-page: var(--color-neutral-950);
    --surface-primary: var(--color-neutral-900);
    --surface-secondary: var(--color-neutral-800);
    --surface-tertiary: var(--color-neutral-700);
    --surface-overlay: rgba(0, 0, 0, 0.7);
    --surface-brand: var(--color-brand-600);
    --surface-brand-subtle: var(--color-brand-950);

    /* Borders */
    --border-default: var(--color-neutral-700);
    --border-strong: var(--color-neutral-500);
    --border-subtle: var(--color-neutral-800);
    --border-brand: var(--color-brand-400);
    --border-focus: var(--color-brand-400);

    /* Text */
    --text-primary: var(--color-neutral-50);
    --text-secondary: var(--color-neutral-300);
    --text-tertiary: var(--color-neutral-500);
    --text-placeholder: var(--color-neutral-600);
    --text-disabled: var(--color-neutral-600);
    --text-inverse: var(--color-neutral-950);
    --text-brand: var(--color-brand-300);
    --text-link: var(--color-brand-400);
    --text-link-hover: var(--color-brand-300);

    /* Focus Ring */
    --focus-ring-color: var(--color-brand-400);

    /* Semantic Backgrounds */
    --bg-success: var(--color-success-950);
    --bg-warning: var(--color-warning-950);
    --bg-danger: var(--color-danger-950);
    --bg-info: var(--color-info-950);

    /* Semantic Borders */
    --border-success: var(--color-success-700);
    --border-warning: var(--color-warning-700);
    --border-danger: var(--color-danger-700);
    --border-info: var(--color-info-700);

    /* Semantic Text */
    --text-success: var(--color-success-300);
    --text-warning: var(--color-warning-300);
    --text-danger: var(--color-danger-300);
    --text-info: var(--color-info-300);

    /* Semantic Icons */
    --icon-success: var(--color-success-400);
    --icon-warning: var(--color-warning-400);
    --icon-danger: var(--color-danger-400);
    --icon-info: var(--color-info-400);

    color-scheme: dark;
  }
}

/* ========================================
   HIGH CONTRAST THEME
   Activated via [data-contrast="high"]
   ======================================== */

[data-contrast="high"] {
  /* Enhanced contrast ratios */
  --text-primary: #000000;
  --text-secondary: #1A1A1A;
  --border-default: #000000;
  --border-strong: #000000;
  --focus-ring-width: 3px;
  --focus-ring-offset: 3px;

  /* Stronger borders */
  --border-width-1: 2px;
}

[data-theme="dark"][data-contrast="high"] {
  --text-primary: #FFFFFF;
  --text-secondary: #F0F0F0;
  --border-default: #FFFFFF;
  --border-strong: #FFFFFF;
}

@media (prefers-contrast: more) {
  :root:not([data-contrast]) {
    --text-primary: #000000;
    --text-secondary: #1A1A1A;
    --border-default: #000000;
    --border-strong: #000000;
    --focus-ring-width: 3px;
    --focus-ring-offset: 3px;
    --border-width-1: 2px;
  }

  [data-theme="dark"]:not([data-contrast]) {
    --text-primary: #FFFFFF;
    --text-secondary: #F0F0F0;
    --border-default: #FFFFFF;
    --border-strong: #FFFFFF;
  }
}

/* ========================================
   REDUCED MOTION
   Activated via [data-motion="reduced"]
   or prefers-reduced-motion
   ======================================== */

[data-motion="reduced"] *,
[data-motion="reduced"] *::before,
[data-motion="reduced"] *::after {
  animation-duration: 0.01ms !important;
  animation-iteration-count: 1 !important;
  transition-duration: 0.01ms !important;
  scroll-behavior: auto !important;
}

@media (prefers-reduced-motion: reduce) {
  :root:not([data-motion]) *,
  :root:not([data-motion]) *::before,
  :root:not([data-motion]) *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}